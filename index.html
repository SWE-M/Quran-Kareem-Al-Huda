// Hide splash screen after 2 seconds
window.onload = function() {
    setTimeout(() => {
        document.getElementById('splash-screen').style.opacity = '0';
        setTimeout(() => {
            document.getElementById('splash-screen').style.display = 'none';
        }, 500);
    }, 2000);
};

// PDF.js setup
const url = 'E-Quran-mobile.pdf';  // Change to the actual path of your PDF
let pdfDoc = null;
let currentPage = 1;
let totalPages = 0;

// Canvas rendering for PDF
const canvas = document.getElementById('pdf-canvas');
const ctx = canvas.getContext('2d');

// Load the PDF document
pdfjsLib.getDocument(url).promise.then(function(pdf) {
    pdfDoc = pdf;
    totalPages = pdf.numPages;
    renderPage(currentPage);
});

// Render a specific page
function renderPage(pageNum) {
    pdfDoc.getPage(pageNum).then(function(page) {
        const viewport = page.getViewport({ scale: getScale() });
        canvas.height = viewport.height;
        canvas.width = viewport.width;
        page.render({
            canvasContext: ctx,
            viewport: viewport
        });
    });
}

// Calculate scale based on screen size
function getScale() {
    if (window.innerWidth <= 768) {
        return 1.0;  // Mobile screen scaling
    } else {
        return 1.5;  // Desktop scaling
    }
}

// Navigate to the next page
document.getElementById('next-page').addEventListener('click', function() {
    if (currentPage < totalPages) {
        currentPage++;
        renderPage(currentPage);
    }
});

// Navigate to the previous page
document.getElementById('prev-page').addEventListener('click', function() {
    if (currentPage > 1) {
        currentPage--;
        renderPage(currentPage);
    }
});
